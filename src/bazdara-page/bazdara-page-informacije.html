<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/i18n-msg/i18n-msg.html">
<link rel="import" href="../../bower_components/paper-ripple/paper-ripple.html">


<link rel="import" href="../styles/shared-styles.html">

<dom-module id="bazdara-page-informacije">
  <template>
    <style include="shared-styles">
      :host {
        display: block;
      }

      #ad_root4 {
        display: none;
        font-size: 16px;
        line-height: 1.5;
        position: relative;
        width: 100%;
        margin-left: auto;
        margin-right: auto;
        overflow: hidden;
      }

      .thirdPartyMediaClass {
        width: 100%;
        height: 170px;
        overflow: hidden;
      }

      .thirdPartyTitleClass {
        font-weight: 500;
        font-size: 1.35rem;
        padding-left: 1.25rem;
        padding-right: 1.25rem;
        line-height: 1.1;
        margin-top: 1rem;
        margin-bottom: 0.85rem;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: center;
      }

      .thirdPartyBodyClass {
        padding-left: 1.25rem;
        padding-right: 1.25rem;
        display: -webkit-box;
        -webkit-line-clamp: 4;
        overflow: hidden;
      }

      .thirdPartyCallToActionClass {
        color: #1e88e5;
        font-weight: 500;
        margin-top: 8px;
        padding-left: 1.25rem;
        padding-right: 1.25rem;
        padding-bottom:  1.25rem;
      }

      .noads {
        height: 335px;
        min-width: 100% !important;
      }
    </style>
    <div class="container">
      <h2 class="page-title"><i18n-msg msgid="informacije_naslov">Informacije</i18n-msg></h2>

      <div class="card-columns">
        <div class="card">
          <div class="card-block text-xs-center">
            <h4 class="card-title">Kaj je to?</h4>

            <div class="card-text">
              Razni podatki o vremenu in stanju morja v Piranskem zalivu.
            </div>
          </div>
        </div>

          <div class="card">
            <ins id="google" class="adsbygoogle" style="display:none" data-ad-client="ca-pub-8065525462923936" data-ad-slot="7206132655" data-ad-format="auto"></ins>
            <div class="fb-ad" data-placementid="585902811569495_586333584859751" data-format="native" data-nativeadid="ad_root4" data-testmode="false"></div>
            <div id="ad_root4">
              <a class="fbAdLink">
                <div class="fbAdMedia thirdPartyMediaClass"></div>
                <div class="fbAdTitle thirdPartyTitleClass"></div>
                <div class="fbAdBody thirdPartyBodyClass"></div>
                <div class="thirdPartyCallToActionClass">Preberi več</div>
              </a>
            </div>
            <paper-ripple></paper-ripple>
          </div>

        <div class="card">
          <div class="card-block text-xs-center">
            <h4 class="card-title">Kaj je to Obvestilo ob neurju?</h4>
            <div class="card-text">
              Ta funkcija je še v izdelavi, ko bo dokončana te bo stran obvestila pred nevihtami, močnim vetrom in poplavo morja (Android + Chrome Browser).
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-block text-xs-center">
            <h4 class="card-title">A to je vse?</h4>
            <div class="card-text">
              Stran je še v izdelavi. Nekatere funkcije še ne delajo ali so v izdelavi.

            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-block text-xs-center">
            <h4 class="card-title">Zakaj?</h4>
            <div class="card-text">
              Ker živim ob Slovenski Obali, z barko plujem po našem morju in mam auto ob obali, tako da rabim vir informacij o stanju morja.
            </div>
          </div>
        </div>
        <div class="card">
          <div class="card-block text-xs-center">
            <h4 class="card-title">Želiš več informacij?</h4>
            <div class="card-text text-xs-center">
              <a href="mailto:info@bazdara.com">piši mi</a>!
            </div>
          </div>
        </div>
      </div>


    </div>
  </template>
  <script>
    Polymer({
      is: 'bazdara-page-informacije',

      behaviors: [i18nMsgBehavior],

      properties: {
        loading: {
          type: Boolean,
          value: false,
          notify: true
        },
        android: {
          type: Boolean,
          value: function() {
            //ready
            return (/Android|iPhone|iPad|iPod|android/i.test(navigator.userAgent)) ? true : false;

          }
        },
      },

      genTitle: function() {
        var title = 'Informacije';
        document.title = title + ' | Bazdara';
      },
      attached: function() {
        var self = this;
        self.genTitle();

        //$('#facebook-jssdk, #fb-root').remove();
        if (document.getElementById('facebook-jssdk') !== null) {
          document.getElementById('facebook-jssdk').remove();
          document.getElementById('fb-root').remove();
          delete FB;
        };

        window.fbAsyncInit = function() {
          FB.Event.subscribe(
            'ad.loaded',
            function(placementId) {
              console.log('Audience Network ad loaded');
              document.getElementById('ad_root4').style.display = 'block';
            }
          );
          FB.Event.subscribe(
            'ad.error',
            function(errorCode, errorMessage, placementId) {
              console.log('Audience Network error (' + errorCode + ') ' + errorMessage);

              document.getElementById('google').style.display = 'block';
              (adsbygoogle = window.adsbygoogle || []).push({});

            }
          );
        };
        (function(d, s, id) {
          var js, fjs = d.getElementsByTagName(s)[0];
          if (d.getElementById(id)) return;
          js = d.createElement(s);
          js.id = id;
          js.src = "//connect.facebook.net/sl_SI/sdk/xfbml.ad.js#xfbml=1&version=v2.5&appId=585902811569495";
          fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));
      },

      observers: [
        '_lockScroll(isLoading)'
      ],
      _lockScroll: function(isLoading) {
        if (isLoading) {
          document.body.style.overflow = 'hidden';
        } else {
          document.body.style.overflow = 'visible';
        }
      },

    });
  </script>
</dom-module>
